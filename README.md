# VKArchiveDownloader

Утилита для скачивания данных по ссылкам, которые можно получить из [архива](https://vk.com/faq18145) аккаунта [VKontakte](https://vk.com/feed).

- [VKArchiveDownloader](#vkarchivedownloader)
  - [1. Описание работы](#1-описание-работы)
  - [2. Результат работы](#2-результат-работы)
    - [2.1 JSON файл с ссылками](#21-json-файл-с-ссылками)
    - [2.2 Папки с данными](#22-папки-с-данными)
    - [2.3 Логи работы утилиты](#23-логи-работы-утилиты)
  - [3. Использование утилиты](#3-использование-утилиты)
    - [3.1 Общие шаги для подготовки](#31-общие-шаги-для-подготовки)
    - [3.2 Запуск утилиты, используя исходный код](#32-запуск-утилиты-используя-исходный-код)

## 1. Описание работы

С помощью данной утилиты возможно скачать данные по ссылкам, которые, так или иначе разбросаны по архиву VKontakte.

Информация о поддерживаемых данных, которые можно скачать:
| Тип данных               | Поддержка | Примечание                                                                                | Папка хранения, после работы утилиты |
| ------------------------ | :-------: | ----------------------------------------------------------------------------------------- | ------------------------------------ |
| `Сообщения`              |   **+**   | [Частичная поддержка](https://github.com/DvaMishkiLapa/VKArchiveDownloader/issues/9)      | `./output/messages`                  |
| `Стена`                  |   **-**   | [Необходим парсер данных](https://github.com/DvaMishkiLapa/VKArchiveDownloader/issues/10) | `-`                                  |
| `Нравится -> Фотографии` |   **-**   | [Необходим парсер данных](https://github.com/DvaMishkiLapa/VKArchiveDownloader/issues/11) | `-`                                  |
| `Фотографии`             |   **-**   | [Необходим парсер данных](https://github.com/DvaMishkiLapa/VKArchiveDownloader/issues/12) | `-`                                  |
| `Видео`                  |   **-**   | [Необходим парсер данных](https://github.com/DvaMishkiLapa/VKArchiveDownloader/issues/13) | `-`                                  |
| `Файлы`                  |   **-**   | [Необходим парсер данных](https://github.com/DvaMishkiLapa/VKArchiveDownloader/issues/14) | `-`                                  |

Данные, ссылок для которых нет в архиве VKontakte, невозможно скачать. Пример таких данных - `Музыка`.

## 2. Результат работы

Результат работы утилиты будет находится в директории `output`.

### 2.1 JSON файл с ссылками

В папке `output`, после работы утилиты, будет находится файл `links_info.json` следующего содержания:

```json
"id диалога/беседы": {
    "name": "Имя диалога/беседы",
    "dialog_link": "Ссылка на диалог/беседу",
    "Тип данных": ["Ссылки, связные с типом данных"]
}
```

### 2.2 Папки с данными

В папке `output`, после работы утилиты, будут находится папки с данными, которые удалось получить.

### 2.3 Логи работы утилиты

В процессе работы утилиты, весь процесс работы логируется и хранится в папке `logs`.

## 3. Использование утилиты

### 3.1 Общие шаги для подготовки

Перед использованием утилиты необходимо запросить данные на [официально странице VKontakte](https://vk.com/data_protection?section=rules&scroll_to_archive=1).

VKontakte дает возможность архивировать разные данные, в зависимости от пожеланий и терпения. Чем больше данных выбрано, тем больше времени будет формироваться архив.
Утилита сможет забрать любые данные, которые найдет, вне зависимости от выбора.

![Диалог выбора данных для архивирования](./readme_img/vk_archive.png)

### 3.2 Запуск утилиты, используя исходный код

Для запуска утилиты из исходного кода в системе должен быть установлен [Python 3.10.5 или выше](https://www.python.org/).

Необходимо скачать или клонировать репозиторий в удобное для работы место.

Клонирование репозитория:

```bash
git clone https://github.com/DvaMishkiLapa/VKArchiveDownloader.git
```

В клонированную или скачанную директорию необходимо поместить директорию архива VKontakte `Archive`.

После клонирования или скачивания репозитория и перемещения папки `Archive`, необходимо в директории репозитория развернуть виртуальное окружение `venv`.

Для ОС Windows:

```bash
py -m venv .venv
```

```bash
.\.venv\Scripts\activate
```

Для ОС Linux:

```bash
python3 -m venv .venv
```

```bash
source ./.venv/bin/activate
```

После разворачивания виртуального окружения необходимо установить зависимости:

```bash
pip install -r requirements.txt
```

После всех шагов необходимо запустить утилиту и ждать ее завершения:

```bash
python main.py
```
